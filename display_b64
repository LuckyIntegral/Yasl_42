#!yasl_linux

{
	= 4 %
	0 != ? ("Error: input file has wrong size\n" print -1 exit)
	= 0 == ? ("Error: input file has wrong size\n" print -1 exit)
} error_input

{
	= 4 /
	0:=:1
	1
	%@ (
		= = *
		= 1:=:0 > ? ("Root doesnt exist\n" print -1 exit)
		= 1:=:0 == ? (
			! = "Root is " print print "\n" print 0
		) : (
			! 1 +
		)
	)
	!
	0:=:2
	1:!:1
	!
	!
} square_root

{
	= 4 /
	= "Image received, nb pixels : " print print "\n" print
} image_size

{
	0
	1
	@ (
		1 +
		=
		=
		*
		=
		# ^ = # !^
		1:print " " print
		-1 exit
	)
} block_check

{
	"\e[48;5;15m " print
	"\e[0m" print
} print_block

{
	32
	%@ ( 1 - print_block )
	"\n" print
} print_row

!!
# 0 != ? ("Error! Usage: cat image | ./diplay_b64\n" print -1 exit)
read
error_input
square_root
image_size
print_block
0:=:1
1:block_check:1
